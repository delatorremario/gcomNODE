<div name="agregarTurno">
	<h4>Nuevo Turno</h4>
	<form name="agregarTurnoFrm" ng-submit='agregarTurno()'>
		<input type="date" ng-model="nuevoTurno.cuando"
	       placeholder="dd-MM-yyyy HH:mm" ng-required="true" />
	 	
		<br>
		<input type="text" size="20" placeholder="Tiempo en minutos"
		 ng-model="nuevoTurno.duracionEstimada" ng-required="true"/>
		<br>
		<input type="text" size="20" placeholder="Descripción"
		 ng-model="nuevoTurno.descripcion" ng-required="true"/>
		<br>
		<br>
		<div ng-show="status">{{status}}</div>
		<button type="submit">Guardar</button>
	</form>
	

</div>
<h3>Listado de Turnos</h3>
<span>{{restantes()}}</span>
<ul >
	<li ng-repeat="turno in turnos track by turno._id">
		<input type="checkbox" ng-model="turno.hecho" ng-change="editarTurno(turno)">
		<span ng-click="editar = true"> {{ turno.cuando  | date:'dd/MM/yy HH:mm'   }} | {{ turno.duracionEstimada }} min| {{ turno.descripcion }} </span>
		
		<form name="editarTurnoFrm" ng-show="editar" ng-submit="editar = false;editarTurno(turno)">
			<input type="date" ng-model="turno.cuando"
		       placeholder="dd-MM-yyyy HH:mm" ng-required="true" />
		 	
			<br>
			<input type="text" size="20" placeholder="Tiempo en minutos"
			 ng-model="turno.duracionEstimada" ng-required="true"/>
			<br>
			<input type="text" size="20" placeholder="Descripción"
			 ng-model="turno.descripcion" ng-required="true"/>
			<br>
			<br>
			<button type="submit" >Guardar</button>
		</form>
	[<a href="" ng-click="eliminarTurno(turno._id)">quitar</a>]
	
	</li>
</ul>

<p>{{ mimensaje }}</p>